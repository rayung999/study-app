## 4. 페이징 기법
페이징 _paging_ 기법 : 프로세스의 주소 공간을 동일한 크기의 페이지 단위로 나누어 물리적 메모리의 서로 다른 위치에 페이지들을 저장하는 방식
- 페이징 기법에서는 물리적 메모리를 페이지와 동일한 크기의 프레임 _frame_ 으로 나누어둔다.
![](https://velog.velcdn.com/images/rayung999/post/ba799a62-3141-485d-81f0-817b02aa3bfb/image.png)

### 1) 주소 변환 기법
- 페이징 기법에서는 CPU가 사용하는 논리적 주소를 페이지 번호(p)와 페이지 오프셋(d)으로 나누어 주소 변환에 사용한다. 
- 페이지 번호는 각 페이지별 주소 변환 정보를 담고 있는 페이지 테이블 접근 시 인덱스로 사용
- 해당 인덱스의 항목에는 그 페이지의 물리적 메모리상의 기준 주소, 즉 시작 위치가 저장된다.
![](https://velog.velcdn.com/images/rayung999/post/db3a9ddf-e50c-4671-93ff-f3a54133fccc/image.png)

### 2) 페이지 테이블의 구현
페이지 테이블은 페이징 기법에서 주소 변환을 하기 위한 자료 구조로, 물리적 메모리에 위치하게 된다.
- 현재 CPU에서 실행 중인 프로세스의 페이지 테이블에 접근하기 위해 os는 2개의 레지스터를 사용 
- 이들은 각각 페이지 테이블 기준 레지스터와 페이지 테이블 길이 레지스터로 불린다.
	
    - 페이지 테이블 기준 레지스터 : 메모리 내에서의 페이지 테이블의 시작 위치 
    - 페이지 테이블 길이 레지스터 : 페이지 테이블의 크기를 보관
    
![](https://velog.velcdn.com/images/rayung999/post/889eacde-92db-4ad8-9b40-f36dd152fe63/image.png)

### 3) 계층적 페이징
대부분의 프로그램은 4GB의 주소 공간 중 지극히 일부분만을 사용하므로 페이지 테이블을 위한 메모리 사용은 심각한 공간 낭비를 하는데, 그 낭비를 줄이기 위해 2단계 페이징 기법을 사용한다.	
- 4단계 페이지 테이블 구성으로 인한 메모리 공간의 효율적인 사용 효과는 매우 클 것.

### 4) 역페이지 테이블
- 페이지 테이블로 인한 메모리 공간의 낭비가 심한 이유는 모든 프로세스의 모든 페이지에 대해 페이지 테이블 항목을 다 구성해야 하기 때문이다. -> 해결 방안 : 역페이지 테이블 기법 사용

역페이지 테이블 기법 : 물리적 메모리의 페이지 프레임 하나당 페이지 테이블에 하나씩의 항목을 두는 방식
![](https://velog.velcdn.com/images/rayung999/post/3d85a479-f28c-46fc-a3c6-53f68265268c/image.png)

### 5) 공유 페이지
공유 코드 : 메모리 공간의 효율적인 사용을 위해 여러 프로세스에 의해 공통으로 사용될 수 있도록 작성된 코드
- 공유 코드는 재진입 가능 코드 또는 순수 코드라고도 불리며 읽기전용의 특성을 가지고 있다.

공유 페이지 : 공유 코드를 담고 있는 페이지
- 공유 페이지는 여러 프로세스에 의해 공유되는 페이지이므로 물리적 메모리에 하나만 적재되어 메모리를 좀 더 효율적으로 사용할 수 있게 한다.
![](https://velog.velcdn.com/images/rayung999/post/9d7108c8-8357-4ff0-a0ac-55e889c62a79/image.png)

### 6) 메모리 보호
페이지 테이블의 각 항목에는 주소 변환 정보뿐 아니라 메모리 보호를 위한 보호비트와 유효-무효 비트를 두고 있다. 
- 보호비트는 각 페이지에 대한 접근 권한의 내용을 담고 있다.
- 유효-무효 비트는 해당 페이지의 내용이 유효한지에 대한 내용을 담고 있다.

- - -

## 5. 세그먼테이션
세그먼테이션 : 프로세스의 주소 공간을 의미 단위의 세그먼트로 나누어 물리적 메모리에 올리는 것

- 하나의 프로세스를 구성하는 주소공간은 일반적으로 코드, 데이터, 스택 등의 의미 있는 단위들로 구성
- 세그먼트는 주소 공간을 기능 단위 또는 의미 단위로 나눈 것

- 세그먼테이션 기법에서는 주소 변환을 위해 세그먼트 테이블을 사용한다. 
- 세그먼테이션 기법에서는 논리적 주소를 물리적 주소로 변환하기 전에 두 가지 사항을 먼저 확인한다.
	
    - 1) 요청된 세그먼트 번호가 STLR에 저장된 값보다 작은 값인가 하는 점
    - 2) 논리적 주소의 오프셋값이 그 세그먼트의 길이보다 작은 값인가 하는 점
    
![](https://velog.velcdn.com/images/rayung999/post/f9c8bfd0-aa89-477d-b6f5-e935dfb7af43/image.png)

공유 세그먼트 : 세그먼테이션 기법 중 여러 프로세스가 특정 세그먼트를 공유해 사용하는 것
![](https://velog.velcdn.com/images/rayung999/post/5121b1c5-4e4c-4d24-bbed-520f7e8a257d/image.png)

세그먼트를 가용 공간에 할당하는 방식에는 해당 세그먼트 크기보다 크거나 같은 첫 번째 가용 공간에 할당하는 최초적합 방식과, 세그먼트의 크기보다 크거나 같은 가용 공간 중 가장 작은 공간에 할당하는 최적적합 방식이 있다.

- - -

## 6. 페이지드 세그먼테이션
페이지드 세그먼테이션 기법에선는 주소 변환을 위해 외부의 세그먼트 테이블과 내부의 페이지 테이블, 이렇게 두 단계의 테이블을 이용한다. 
- 하나의 세그먼트가 여러 개의 페이지로 구성되므로 각 세그먼트마다 페이지 테이블을 가지게 되는데, 이에 앞서 살펴본 2단계 페이지 테이블과 유사한 구조